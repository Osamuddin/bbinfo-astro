<nav class="fixed w-full z-50 top-0 left-0 px-6 py-6 transition-all duration-300" id="navbar">
    <div class="max-w-7xl mx-auto glass-header rounded-full px-6 py-3 flex justify-between items-center relative z-50">
        
        <a href="/" class="flex items-center group !no-underline !border-none !outline-none">
            <img 
                src="/images/bbinfologo.svg" 
                alt="BBINFO" 
                class="h-8 md:h-10 w-auto object-contain group-hover:scale-105 transition-transform duration-300 !border-none !outline-none" 
            />
        </a>

        <div class="hidden md:flex items-center gap-8 text-sm font-medium text-gray-300">
            <a href="/#service_detail" class="hover:text-white transition-colors">サービス詳細</a>
            <a href="/#channels" class="hover:text-white transition-colors">チャンネル一覧</a>
            <a href="/#pricing" class="hover:text-white transition-colors">料金プラン</a>
            <a href="/#news" class="hover:text-white transition-colors">お知らせ</a>
        </div>

        <div class="hidden md:flex items-center gap-3">
            <a href="/contact" class="inline-flex items-center justify-center rounded-full px-6 py-4 text-sm font-bold text-white border border-white/20 hover:bg-white hover:text-black transition-all">お問い合わせ</a>
            <a href="/trial" class="hidden md:inline-flex gradient-button items-center justify-center rounded-full min-w-[132px] px-6 md:px-9 py-4 text-sm leading-[19px] font-medium text-white font-sans font-bold focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 hover:scale-105 transition-transform duration-300 whitespace-nowrap">
                <span class="flex items-center gap-2">1週間の無料体験を申し込む <i class="ph-bold ph-lightning"></i></span>
            </a>
        </div>

        <button id="menu-toggle" class="md:hidden text-white text-2xl focus:outline-none">
            <i class="ph ph-list" id="menu-icon"></i>
        </button>
    </div>

    <div id="mobile-menu" class="hidden absolute top-24 left-6 right-6 glass-panel rounded-3xl p-6 flex-col gap-4 text-center z-40 origin-top">
        <a href="/#service_detail" class="py-3 border-b border-white/10 hover:text-cyan-400 mobile-link text-white">サービス詳細</a>
        <a href="/#channels" class="py-3 border-b border-white/10 hover:text-cyan-400 mobile-link text-white">チャンネル一覧</a>
        <a href="/#pricing" class="py-3 border-b border-white/10 hover:text-cyan-400 mobile-link text-white">料金プラン</a>
        <a href="/#news" class="py-3 border-b border-white/10 hover:text-cyan-400 mobile-link text-white">お知らせ</a>
        <a href="/contact" class="inline-flex items-center justify-center rounded-full px-6 py-4 text-sm font-bold text-white border border-white/20 hover:bg-white hover:text-black transition-all mobile-link">お問い合わせ</a>
        <a href="/trial" class="mt-2 gradient-button inline-flex items-center justify-center rounded-full px-6 py-4 text-sm font-bold text-white mobile-link whitespace-nowrap">
            <span class="flex items-center gap-2">無料体験を申し込む <i class="ph-bold ph-lightning"></i></span>
        </a>
    </div>
</nav>

<script>
    const navbar = document.getElementById('navbar');
    const menuToggle = document.getElementById('menu-toggle');
    const menuIcon = document.getElementById('menu-icon');
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileLinks = document.querySelectorAll('.mobile-link');

    window.addEventListener('scroll', () => {
        if (navbar) {
            if (window.scrollY > 50) { 
                navbar.classList.add('py-3'); 
                navbar.classList.remove('py-6'); 
            } else { 
                navbar.classList.add('py-6'); 
                navbar.classList.remove('py-3'); 
            }
        }
    });

    if (menuToggle && mobileMenu && menuIcon) {
        menuToggle.addEventListener('click', () => {
            const isOpen = !mobileMenu.classList.contains('hidden');
            if (isOpen) {
                mobileMenu.classList.remove('open'); mobileMenu.classList.add('closed');
                setTimeout(() => { mobileMenu.classList.add('hidden'); mobileMenu.classList.remove('closed'); }, 300);
                menuIcon.classList.remove('ph-x'); menuIcon.classList.add('ph-list');
            } else {
                mobileMenu.classList.remove('hidden'); 
                requestAnimationFrame(() => { mobileMenu.classList.add('open'); });
                menuIcon.classList.remove('ph-list'); menuIcon.classList.add('ph-x');
            }
        });

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('open'); mobileMenu.classList.add('closed');
                setTimeout(() => { mobileMenu.classList.add('hidden'); mobileMenu.classList.remove('closed'); }, 300);
                menuIcon.classList.remove('ph-x'); menuIcon.classList.add('ph-list');
            });
        });
    }
</script>